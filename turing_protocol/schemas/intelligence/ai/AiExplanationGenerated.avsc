{
  "type": "record",
  "name": "AiExplanationGenerated",
  "namespace": "turing.protocol.intelligence.ai",
  "doc": "AI-generated explanation for regulator-grade transparency. Used for AML narratives, fraud explanations, etc.",
  "fields": [
    {
      "name": "base",
      "type": "turing.protocol.intelligence.IntelligenceEventBase",
      "doc": "Base intelligence event fields"
    },
    {
      "name": "subject",
      "type": "string",
      "doc": "Subject of explanation (e.g., 'AML Investigation', 'Fraud Detection')"
    },
    {
      "name": "primary_entity_id",
      "type": "string",
      "doc": "Primary entity ID (e.g., customer_id, payment_id)"
    },
    {
      "name": "source_event_ids",
      "type": {
        "type": "array",
        "items": "string"
      },
      "doc": "Source event IDs used to generate explanation"
    },
    {
      "name": "model_id",
      "type": "string",
      "doc": "Gen-AI model identifier (e.g., 'gpt-4', 'claude-3')"
    },
    {
      "name": "prompt_hash",
      "type": "string",
      "doc": "Hash of prompt for provenance"
    },
    {
      "name": "output_hash",
      "type": "string",
      "doc": "Hash of output for provenance"
    },
    {
      "name": "object_store_ref",
      "type": "string",
      "doc": "Object store reference for full explanation text (S3, etc.)"
    }
  ]
}
